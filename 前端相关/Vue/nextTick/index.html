<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <script src="./vue.js"></script>
</head>
<body>
<div id="root"></div>
<!-- <button @click="handleClick">点击</button> -->
<!-- 挂载点，模板，实例之间的关系 -->
<script>
    // 创建一个Vue实例
    const template = `
        <div>
            <h1 ref="title">{{num}}</h1>
        </div>
    `;
    var app = new Vue({
        el: '#root', // 指定挂载点
        // 模板
        template,
        // 数据
        data() {
            return {
                num: 0
            }
        },
        mounted() {
            // this.num = 2;
            // this.num = 3;
            // this.num = 4;
            for(let i = 0; i < 1000; i++) {
                this.num++;
            }
        },
        methods: {
            // handleClick() {
            //     this.num = 6;
            //     // DOM 还没有更新
            //     console.log(this.$refs.title.innerText); // 2
            //     this.$nextTick()
            //         .then(() => {
            //             // DOM 更新了
            //             console.log(this.$refs.title.innerText); // 6
            //         });
            // }
            // async handleClick() {
            //     this.num = 8;
            //     // DOM 还没有更新
            //     console.log(this.$refs.title.innerText); // 2
            //     await this.$nextTick();
            //     // DOM 更新了
            //     console.log(this.$refs.title.innerText); // 6
            // }
        },
        watch: {
            num() {
                console.log(this.num);
            }
        }
    })
</script>
</body>
</html>