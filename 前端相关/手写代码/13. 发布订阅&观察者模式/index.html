<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    <button id="btn">点击</button>
    <script src="https://cdn.bootcss.com/jquery/3.5.0/jquery.min.js"></script>
    <script src="./subscribe2.js"></script>
    <script>
        let s1 = _sub(); // 得到一个发布订阅的实例
        $('#btn').click(() => {
            // 点击按钮的时候，通知事件池中的方法执行，还可以给每个方法都传递参数
            s1.fire(333);
        });
        function fn1(x) {
            console.log(1, x);
        }
        function fn2(x) {
            console.log(2, x);
            s1.remove(fn1); // 这里删除fn1
        }
        function fn3(x) {
            console.log(3, x);
        }
        function fn4(x) {
            console.log(4, x);
        }
        s1.add(fn1);
        s1.add(fn2);
        s1.add(fn3);
        s1.add(fn4);
    </script>
</body>
</html>